# =============================================================================
# NanoBanana K-6 AI Learning Platform - Backend Environment Variables
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# CORS - Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@localhost:5432/nanobanana

# -----------------------------------------------------------------------------
# Session Management
# -----------------------------------------------------------------------------
SESSION_SECRET=your_random_session_secret_at_least_32_characters_long

# -----------------------------------------------------------------------------
# Cloudflare R2 Storage Configuration
# See frontend/CLOUDFLARE_R2_STORAGE.md for full documentation
# -----------------------------------------------------------------------------

# Cloudflare Account ID (from your dashboard URL or API)
CLOUDFLARE_ACCOUNT_ID=your_account_id

# R2 Endpoint (format: https://{account_id}.r2.cloudflarestorage.com)
R2_ENDPOINT=https://your_account_id.r2.cloudflarestorage.com

# R2 API Credentials (create in Cloudflare Dashboard → R2 → Manage R2 API Tokens)
CLOUDFLARE_R2_ACCESS_KEY_ID=your_access_key_id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your_secret_access_key

# R2 Bucket Names (create these in Cloudflare Dashboard)
R2_BUCKET_UPLOADS=mydscvr-eduk6-uploads
R2_BUCKET_AI_CONTENT=mydscvr-eduk6-ai-content
R2_BUCKET_STATIC=mydscvr-eduk6-static

# CDN Base URL (configure custom domain in Cloudflare R2 bucket settings)
# Use R2.dev URL for development, custom domain for production
CDN_BASE_URL=https://pub-your_account_id.r2.dev

# Upload Configuration (COPPA-compliant, child-safe)
MAX_UPLOAD_SIZE_MB=10
ALLOWED_UPLOAD_TYPES=application/pdf,image/png,image/jpeg,image/webp

# Presigned URL Expiry (in seconds)
PRESIGNED_URL_EXPIRY_UPLOAD=300
PRESIGNED_URL_EXPIRY_DOWNLOAD=3600

# -----------------------------------------------------------------------------
# Email Service (Resend)
# -----------------------------------------------------------------------------
RESEND_API_KEY=re_your_resend_api_key_here
RESEND_FROM_EMAIL=noreply@mydscvr.ai

# -----------------------------------------------------------------------------
# Firebase Admin SDK (for Google OAuth)
# -----------------------------------------------------------------------------
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_SERVICE_ACCOUNT_JSON=base64_encoded_service_account_json

# -----------------------------------------------------------------------------
# AI Services
# -----------------------------------------------------------------------------
# Google Gemini API
GEMINI_API_KEY=AIzaSy_your_gemini_api_key_here

# -----------------------------------------------------------------------------
# Redis (for job queue - optional)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# Stripe (Payment Processing - optional)
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# -----------------------------------------------------------------------------
# Logging & Monitoring
# -----------------------------------------------------------------------------
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Development/Testing
# -----------------------------------------------------------------------------
# Skip email sending in development
SKIP_EMAILS=false

# Enable debug logging
DEBUG=false
